{"version":3,"file":"quote-2e2a8633.js","sources":["../../src/js/mobile_menu.js","../../src/js/quote.js"],"sourcesContent":["import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nconst mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\nconst menuLinks = document.querySelectorAll('.mobile-menu-link');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n  if (!isMenuOpen) {\n    disableBodyScroll(document.body);\n    document.addEventListener('keydown', onEscKeyPress);\n    mobileMenu.addEventListener('click', onBackdropClick);\n  } else {\n    enableBodyScroll(document.body);\n    document.removeEventListener('keydown', onEscKeyPress);\n    mobileMenu.removeEventListener('click', onBackdropClick);\n  }\n};\n\nconst onEscKeyPress = e => {\n  if (e.key === 'Escape') {\n    toggleMenu();\n  }\n};\n\nconst onBackdropClick = e => {\n  if (e.target === mobileMenu) {\n    toggleMenu();\n  }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\nmenuLinks.forEach(link => {\n  link.addEventListener('click', toggleMenu);\n});\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  enableBodyScroll(document.body);\n  document.removeEventListener('keydown', onEscKeyPress);\n  mobileMenu.removeEventListener('click', onBackdropClick);\n});\n\nexport {};\n","import { serviceGetQuote } from './services';\n\n(async () => {\n  const quoteElement = document.getElementById('quote');\n\n  if (!quoteElement) {\n    return;\n  }\n\n  let quoteData;\n\n  const dataFromStorage = localStorage.getItem('quote');\n  if (dataFromStorage) {\n    quoteData = JSON.parse(dataFromStorage);\n\n    if (Date.now() - quoteData.timestamp > 1000 * 60 * 60 * 24) {\n      quoteData = null;\n    }\n  }\n\n  if (!quoteData) {\n    try {\n      quoteData = await serviceGetQuote();\n      localStorage.setItem(\n        'quote',\n        JSON.stringify({ ...quoteData, timestamp: Date.now() })\n      );\n    } catch {\n      quoteData = null;\n    }\n  }\n\n  if (!quoteData) {\n    return;\n  }\n\n  const quoteDescriptionElement =\n    quoteElement.querySelector('.quote-description');\n  const quoteAuthorElement = quoteElement.querySelector('.quote-author');\n\n  quoteDescriptionElement.textContent = quoteData.quote;\n  quoteAuthorElement.textContent = quoteData.author;\n\n  quoteElement.classList.remove('hidden');\n})();\n\nexport {};\n"],"names":["mobileMenu","openMenuBtn","closeMenuBtn","menuLinks","toggleMenu","isMenuOpen","enableBodyScroll","onEscKeyPress","onBackdropClick","disableBodyScroll","link","quoteElement","quoteData","dataFromStorage","serviceGetQuote","quoteDescriptionElement","quoteAuthorElement"],"mappings":"yFAEA,MAAMA,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAY,SAAS,iBAAiB,mBAAmB,EAEzDC,EAAa,IAAM,CACvB,MAAMC,EACJJ,EAAY,aAAa,eAAe,IAAM,QAAU,GAC1DA,EAAY,aAAa,gBAAiB,CAACI,CAAU,EACrDL,EAAW,UAAU,OAAO,SAAS,EAEhCK,GAKHC,EAAiB,SAAS,IAAI,EAC9B,SAAS,oBAAoB,UAAWC,CAAa,EACrDP,EAAW,oBAAoB,QAASQ,CAAe,IANvDC,EAAkB,SAAS,IAAI,EAC/B,SAAS,iBAAiB,UAAWF,CAAa,EAClDP,EAAW,iBAAiB,QAASQ,CAAe,EAMxD,EAEMD,EAAgB,GAAK,CACrB,EAAE,MAAQ,UACZH,GAEJ,EAEMI,EAAkB,GAAK,CACvB,EAAE,SAAWR,GACfI,GAEJ,EAEAH,EAAY,iBAAiB,QAASG,CAAU,EAChDF,EAAa,iBAAiB,QAASE,CAAU,EACjDD,EAAU,QAAQO,GAAQ,CACxBA,EAAK,iBAAiB,QAASN,CAAU,CAC3C,CAAC,EAGD,OAAO,WAAW,oBAAoB,EAAE,iBAAiB,SAAU,GAAK,CACjE,EAAE,UACPJ,EAAW,UAAU,OAAO,SAAS,EACrCC,EAAY,aAAa,gBAAiB,EAAK,EAC/CK,EAAiB,SAAS,IAAI,EAC9B,SAAS,oBAAoB,UAAWC,CAAa,EACrDP,EAAW,oBAAoB,QAASQ,CAAe,EACzD,CAAC,GChDA,SAAY,CACX,MAAMG,EAAe,SAAS,eAAe,OAAO,EAEpD,GAAI,CAACA,EACH,OAGF,IAAIC,EAEJ,MAAMC,EAAkB,aAAa,QAAQ,OAAO,EASpD,GARIA,IACFD,EAAY,KAAK,MAAMC,CAAe,EAElC,KAAK,IAAG,EAAKD,EAAU,UAAY,IAAO,GAAK,GAAK,KACtDA,EAAY,OAIZ,CAACA,EACH,GAAI,CACFA,EAAY,MAAME,IAClB,aAAa,QACX,QACA,KAAK,UAAU,CAAE,GAAGF,EAAW,UAAW,KAAK,IAAG,EAAI,CAC9D,CACA,MAAY,CACNA,EAAY,IACb,CAGH,GAAI,CAACA,EACH,OAGF,MAAMG,EACJJ,EAAa,cAAc,oBAAoB,EAC3CK,EAAqBL,EAAa,cAAc,eAAe,EAErEI,EAAwB,YAAcH,EAAU,MAChDI,EAAmB,YAAcJ,EAAU,OAE3CD,EAAa,UAAU,OAAO,QAAQ,CACxC,GAAI"}